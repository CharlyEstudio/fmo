<div class="row">

  <div class="col-lg-2 col-md-12">

    <form #f="ngForm">

      <div class="form-group">

          <label for="inicio" class="col-2 col-form-label">Inicio</label>

          <input [ngModel]='inicio' class="form-control" name="inicio" type="date" value="0000/00/00" id="inicio">

      </div>

      <div class="form-group">

          <label for="final" class="col-2 col-form-label">Fin</label>

          <input [ngModel]='final' class="form-control" name="final" type="date" value="0000/00/00" id="final">

      </div>

      <button type="button" class="btn btn-success btn-block waves-effect waves-light m-r-10" (click)="solicitar( f )">Solicitar</button>

    </form>

  </div>

  <div class="col-lg-10 col-md-12">

    <div class="alert alert-warning" *ngIf="esperar">

      Obteniendo registros

    </div>

    <span *ngIf="respuesta">No ha solicitado nada.</span>

    <span *ngIf="ventas">No hay detalles.</span>

    <div class="container-fluid" *ngIf="respuestaGeneral">

      <div class="table-responsive">

        <table class="display nowrap table table-hover table-striped table-bordered dataTable" cellspacing="0" width="100%" role="grid" aria-describedby="example23_info" style="width: 100%;">
          
          <thead>

            <tr role="row">

              <th class="text-center">Tipo</th>

              <th class="text-center">Entrada</th>

              <th class="text-center">Salida</th>

              <th class="text-center">General</th>

            </tr>

          </thead>

          <tbody>

            <tr role="row" class="odd" *ngFor="let es of entSal">

              <td class="sorting_1" *ngIf="es.nota === 'CONSUMO INTERNO'">

                <a href="#modalConsumoInterno" (click)="obtenerConsumo()" data-dismiss="modal" data-toggle="modal">

                  {{ es.nota }}

                </a>

              </td>

              <td class="sorting_1" *ngIf="es.nota != 'CONSUMO INTERNO'">{{ es.nota }}</td>

              <td class="sorting_1">{{ es.entrada | currency }}</td>

              <td class="text-center">{{ es.salida | currency }}</td>

              <td class="text-center">{{ es.entrada + es.salida | currency }}</td>

            </tr>

            <tr>

              <th>TOTAL</th>

              <th class="text-center">{{ entrada | currency }}</th>

              <th class="text-center">{{ salida | currency }}</th>

              <th class="text-center">{{ general | currency }}</th>

            </tr>

          </tbody>

        </table>

      </div>

    </div>

  </div>

</div>

<div id="modalConsumoInterno" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="modalConsumoInterno" aria-hidden="true">
  
  <div class="modal-dialog modal-lg tablas-modales">

    <div class="modal-content p-t-20 p-b-20 p-l-20 p-r-20">

      <div class="modal-header">

        <h3 class="display-5 p-b-10 p-t-10">Consumo Interno</h3>

        <button type="button" class="close" data-dismiss="modal" aria-label="Close">

          <span aria-hidden="true">&times;</span>

        </button>

      </div>

      <div class="modal-body">

        <div class="table-responsive">

          <table class="display nowrap table table-hover table-striped table-bordered dataTable table-sm" cellspacing="0" width="100%" role="grid" aria-describedby="example23_info" style="width: 100%;">
            
            <thead>

              <tr role="row">

                <th class="text-center">Fecha</th>

                <th class="text-center">Código</th>

                <th class="text-center">Clave</th>

                <th class="text-left">Descripción</th>

                <th class="text-center">Cantidad</th>

                <th class="text-center">Costo</th>

                <th class="text-center">Nota</th>

                <th class="text-center">Total</th>

                <th class="text-center">Tipo</th>

              </tr>

            </thead>

            <tbody>

              <tr role="row" class="odd" *ngFor="let con of consumo">

                <td class="text-center">{{ con.fecha }}</td>

                <td class="text-center">{{ con.codigo }}</td>

                <td class="text-center">{{ con.clave }}</td>

                <td class="text-left">{{ con.nombre }}</td>

                <td class="text-center">{{ con.cantidad | number }}</td>

                <td class="text-center">{{ con.costo | currency }}</td>

                <td class="text-center">{{ con.nota }}</td>

                <td class="text-center">{{ con.total | currency }}</td>

                <td class="text-center">{{ con.tipo }}</td>

              </tr>

            </tbody>

          </table>

        </div>

      </div>

    </div>

  </div>

</div>
  